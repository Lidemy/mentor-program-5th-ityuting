## 請簡單解釋什麼是 Single Page Application

SPA（Single Page Application）顧名思義為只有一個頁面的應用程式，也就是說網頁不需跳轉頁面就可以達到基本的建立、讀取、修改、刪除資料功能，通通在同一個網頁完成，不用重新載入整個網頁。

這裡介紹一下 SSR (Server Side Rendering) 伺服器端渲染，
早期的網頁是採用「Multi-page」的設計方法，一個功能或一個動作就等於要求產生一個頁面，server side 收到 request 後，拿資料、放資料、解析好完整的 HTML ，然後返回給 client side 重新載入網頁。此做法不僅 server side 的負擔重， client side 也需要每次都重新載入網頁，如果網路頻寬不好，那使用者體驗就會較差。

> 而後來的出現的 Ajax 以及 RESTful 風格促進了 SPA 技術。
* Ajax 讓 client side 和 server side 的溝通不再是整個網頁的資料量，而是可以僅要求或傳送所必須的資料，利用 XML or JSON 格式來溝通資料；client side 不用再重新載入整個畫面，只需要更新部分網頁內容。
* RESTful 風格則是讓傳送資料的格式有比較統一的標準。


---


## SPA 的優缺點為何

> SPA 和 SSR 的優缺點是可以互相對照的 www。

SSR

* 優點：
1. SEO。
2. 不需要先下載一堆 JS 和 CSS 後才能看到頁面，網頁第一次載入的時候速度較快。
3. 不需在意瀏覽器是否兼容，server side 先解析好，才傳給 client side 的。
4. 減少 client side 的電量消耗，因為解析的部分都是由 server side 進行的。
以現代技術而言，優點剩下 1 & 2 較為突出，3、4 因為瀏覽器更新快速、設備性能也越來越好，不太會影響到。

* 缺點：
1. 每次都需要重新載入頁面，若頻寬差，則使用者體驗差。


SPA

* 優點：
1. 使用者體驗佳。
2. 前後端的工作分離。後端負責出資料，前端分成靜態頁面和動態互動。
3. 減少 server side 負擔。因為 JS 邏輯處理和頁面合成變成由 client side 負責。
4. 共用一套後端程式碼，不用像早期各種裝置設備都要寫一套後端程式碼，因為 SPA 有前端負責 RWD。

* 缺點：
1. SEO 難度較高，因為 SPA 的資料大多都是由 JS 動態加入的，其內容會動態替換顯示， HTML 上看不到資料的 ( 滑鼠右鍵查看網頁原始碼可發現 )，因為 SEO robot 基本上是從 HTML 爬蟲的。
2. 第一次載入速度較慢，因為 SPA 打包的 JS 通常都比較大，頁面加載後，還要時間去解析 JS 和 CSS。
3. 因為是單頁，所以不能使用上一頁、下一頁的功能，要怎麼區分資料的更新，需要自己設計 ( 例如 Token、iframe 紀錄 ... ... )。


---


## 這週這種後端負責提供只輸出資料的 API，前端一律都用 Ajax 串接的寫法，跟之前透過 PHP 直接輸出內容的留言板有什麼不同？

> 最大的不同是，內容是由誰產生的。

透過 PHP：內容由後端 PHP 到資料庫拿資料後，跟 DOM 結合在一起，輸出 html，所以 browse 拿到的是有資料的 html。
API：html 是沒有資料的，資料是由 browse JS 向 API 發起 request 拿到資料後，藉由 JS 動態加入進去 html。

* 如果以打開瀏覽器開啟網頁，按右鍵檢查原始程式碼，則由 PHP 輸出資料的原始程式碼，其 html 是有內容的；而由 API 動態輸出資料的原始程式碼，其 html 則是沒有內容的。
* 如果以前後端來區分，由 PHP 輸出資料，其在後端便有內容，然後將有內容的 html 送到前端渲染出來；而由 API 動態輸出資料的原始程式碼，其在後端是無內容的，送到前端渲染出來的 html 也是無內容的，是由 JS 動態新增將內容資料加上去。

